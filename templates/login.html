{% extends "base.html" %}

{% block title %}로그인{% endblock %}

{% block content %}
<div class="max-w-md mx-auto p-6">
  <div class="card">
    <div class="card-header">
      <h2 class="card-title">관리자 로그인</h2>
      <p class="card-description">뉴스레터 관리 시스템에 접속하려면 로그인하세요.</p>
    </div>
    <div class="card-content">
      <form method="post" action="{{ url_for('login') }}" class="space-y-6">
        {{ form.hidden_tag() }}
        
        <div class="space-y-1.5">
          <label for="username" class="font-medium text-sm">사용자 이름</label>
          <div class="relative">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="absolute left-3 top-3 text-muted-foreground">
              <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path>
              <circle cx="12" cy="7" r="4"></circle>
            </svg>
            {{ form.username(class="input pl-10 w-full min-h-[50px]", placeholder="관리자 아이디 입력", id="username", required=true, autofocus=true) }}
          </div>
          {% if form.username.errors %}
            <div class="text-destructive text-sm mt-1">
              {% for error in form.username.errors %}
                {{ error }}
              {% endfor %}
            </div>
          {% endif %}
        </div>
        
        <div class="space-y-1.5">
          <label for="password" class="font-medium text-sm">비밀번호</label>
          <div class="relative">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="absolute left-3 top-3 text-muted-foreground">
              <path d="M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"></path>
            </svg>
            {{ form.password(class="input pl-10 w-full min-h-[50px]", placeholder="비밀번호 입력", id="password", required=true) }}
          </div>
          {% if form.password.errors %}
            <div class="text-destructive text-sm mt-1">
              {% for error in form.password.errors %}
                {{ error }}
              {% endfor %}
            </div>
          {% endif %}
        </div>
        
        <button type="submit" class="btn btn-primary w-full">로그인</button>
      </form>
      
      <!-- 디버그 정보: CSRF 토큰 존재 여부 확인 (개발 시에만 사용) -->
      <!-- <div class="mt-4 text-xs text-muted-foreground">
        CSRF 토큰 존재: {{ csrf_token is defined }}
      </div> -->
    </div>
  </div>
</div>
{% endblock %} 